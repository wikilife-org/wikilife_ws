<html>
<head>
<title>GAST - Global Aggregated Stats TEST</title>

<!-- This is a TEST form. Please disregard it's dirtiness -->

<script type="text/javascript">

function getStat(){
	propId = document.getElementById('lifeVar').value;

	age = document.getElementById('age').value;
	gender = document.getElementById('gender').value;
	city = document.getElementById('city').value;
	sleep = document.getElementById('sleep').value;
	height = document.getElementById('height').value;
	weight = document.getElementById('weight').value;
	livingwith = document.getElementById('livingwith').value;
	running = document.getElementById('running').value;
	mood = document.getElementById('mood').value;
	headache = document.getElementById('headache').value;
	
	factors = "&age="+age+
		"&gender="+gender+
		"&location="+city+
		"&sleep="+sleep+
		"&height="+height+
		"&weight="+weight+
		"&livingwith="+livingwith+
		"&running="+running+
		"&mood="+mood+
		"&headache="+headache; 

	resultsIfr = document.getElementById('results');
	baseUrl = document.getElementById('env').value;
	
	serviceUrl = "http://"+baseUrl+"/3/stats/aggregation?loggable_id=.*&propperty_id="+propId+"&summary_id=0"+factors;
	document.getElementById('serviceUrl').value = serviceUrl;
	resultsIfr.src = serviceUrl

}

function getStatMatrix(){
	  
	age = document.getElementById('age');
	var age_list = [];
	 for(var i=0; i < age.options.length; i++) {
	     if (age.options[i].selected) {
	    	 age_list.push(age.options[i].value);
	     }
	  }
	
	 console.debug(age_list);
	 
	gender = document.getElementById('gender');
	var gender_list = [];
	 for(var i=0; i < gender.options.length; i++) {
	     if (gender.options[i].selected) {
	    	 gender_list.push(gender.options[i].value);
	     }
	  }
	
	 console.debug(gender_list);
	 
	city = document.getElementById('city');
	var city_list = [];
	 for(var i=0; i < city.options.length; i++) {
	     if (city.options[i].selected) {
	    	 city_list.push(city.options[i].value);
	     }
	  }
	 console.debug(city_list);
	 
	sleep = document.getElementById('sleep');
	var sleep_list = [];
	 for(var i=0; i < sleep.options.length; i++) {
	     if (sleep.options[i].selected) {
	    	 sleep_list.push(sleep.options[i].value);
	     }
	  }
	console.debug(sleep_list);
	 
	height = document.getElementById('height');
	var height_list = [];
	 for(var i=0; i < height.options.length; i++) {
	     if (height.options[i].selected) {
	    	 height_list.push(height.options[i].value);
	     }
	  }
	 
	console.debug(height_list);
	 
	weight = document.getElementById('weight');
	var weight_list = [];
	 for(var i=0; i < weight.options.length; i++) {
	     if (weight.options[i].selected) {
	    	 weight_list.push(weight.options[i].value);
	     }
	  }
	 
	console.debug(weight_list);
	 
	livingwith = document.getElementById('livingwith');
	var livingwith_list = [];
	 for(var i=0; i < livingwith.options.length; i++) {
	     if (livingwith.options[i].selected) {
	    	 livingwith_list.push(livingwith.options[i].value);
	     }
	  }
	 
	console.debug(livingwith_list);
	 
	running = document.getElementById('running');
	var running_list = [];
	 for(var i=0; i < running.options.length; i++) {
	     if (running.options[i].selected) {
	    	 running_list.push(running.options[i].value);
	     }
	  }
	console.debug(running_list);
	 
	mood = document.getElementById('mood');
	var mood_list = [];
	 for(var i=0; i < mood.options.length; i++) {
	     if (mood.options[i].selected) {
	    	 mood_list.push(mood.options[i].value);
	     }
	  }
	 
	 console.debug(mood_list);
	 
	 headache = document.getElementById('headache');
		var headache_list = [];
		 for(var i=0; i < headache.options.length; i++) {
		     if (headache.options[i].selected) {
		    	 headache_list.push(headache.options[i].value);
		     }
		  }							 
	
	console.debug(headache_list);
  
}

</script>

</head>
<body>

<form action="">

<p>
<label for="env">Environment</label>
<select id="env">
	<option value="devapi.wikilife.org">DEV</option>
	<option value="localhost:7080">LOCAL</option>
	<option value="qaapi.wikilife.org">QA</option>
	<option value="api.wikilife.org">PROD</option>
</select>
</p>

<p>
<label for="lifeVar">Variable - Component</label>
<select id="lifeVar">
	<option value="241560">Running - Distance</option>
	<option value="241562">Sleep deep - Duration</option>
	<option value="254002">Headache - Intensity</option>
	<option value="2229">Water - Intensity</option>
</select>

<label for="summary">Summary</label>
<select>
	<option id="summary">AVG/Day</option>
</select>
</p>


Factors
<div id="factors">
	<div>
		<label for="age">DOB-Age</label>
		<input type="text" id="age"/> 
		12-15, 16-20, 21-25, 26-30, 31-35, 36-40, 41-50, 51-60, gt60  
	</div>
	<div>
		<label for="gender">Gender</label>
		<input type="text" id="gender"/> 
		Male, Female  
	</div>
	<div>
		<label for="sleep">Sleep</label>
		<input type="text" id="sleep"/>
		0-3, 2-3, 3-4, 4-5, 5-6, 6-7, 7-8, 8-9, 9-10, gt10
	</div>
	<div>
		<label for="city">Location</label>
		<input type="text" id="city"/>
		newyork, losangeles, boston, boulder, sanfrancisco, chicago, miami, buenosaires, paris, london
	</div>
	<div>
		<label for="height">Height</label>
		<input type="text" id="height"/>
		lt1, 100-130, 131-150, 151-160, 161-170, 171-180, 181-190, gt190
	</div>
	<div>
		<label for="weight">Weight</label>
		<input type="text" id="weight"/>
		lt40, 40-50, 50-60, 60-70, 70-80, 80-90, 90-110, 110-130, 130-150, gt150
	</div>
	<div>
		<label for="livingwith">Living with</label>
		<input type="text" id="livingwith"/>
		alone, parents, partner, roomate, partner-and-kids, friends, grandparents, children, other-relatives
	</div>
	<div>
		<label for="running">Running</label>
		<input type="text" id="running"/>
		lt1, 1-5, 5-10, 10-15, 15-20, 20-25, 25-30, gt30
	</div>
	<div>
		<label for="mood">Mood</label>
		<input type="text" id="mood"/>
		lt3, 31-5, 51-7, 71-9, 91-10
	</div>
	<div>
		<label for="headache">Headache</label>
		<input type="text" id="headache"/>
		lt3, 31-5, 51-7, 71-9, 91-10
	</div>

</div>
<br/>

<input type="button" onclick="getStat()" value="Submit"/>
<br/>
<br/>
<input type="text" id="serviceUrl" value="..." disabled="disabled" size="150"/>
</form>
<iframe id="results" width="100%", height="40%" src="" />


</body>
</html>